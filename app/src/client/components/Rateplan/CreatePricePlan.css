@import "../Variables/Variables.css";

/* -------------------------------------------------
   Shared shell numbers / helpers
   ------------------------------------------------- */
:root{
  --af-gutter: 120px;      /* header side gutters */
  --af-border-1: #EFF0F0;  /* Variables.borderBorder1 */
  --field-pl: 14px;        /* unified left padding so text never shifts */

  /* ⬇️ NEW: content gutter between stepper and form */
  --content-gutter: 24px;
}

.align-under-back{
  margin-left: var(--af-gutter);
  margin-right: var(--af-gutter);
  margin-top: 40px;
  padding-left: 0;
  padding-right: 0;
  box-sizing: border-box;
}

/* ====== WRAPPER ====== */
.price-plan-wrapper{
  display:flex;
  gap:0; /* keep header flush with stepper */
  font-family: var(--font-family-primary);
  background-color: var(--color-neutral-white);
  min-height:600px;
  border:1.5px solid var(--color-neutral-200);
  border-radius:var(--border-radius-sm);
  width:100%;
  max-width:100%;
  box-sizing:border-box;
  overflow:visible;
  margin-top:0;
}

/* ====== STEPPER (left column) ====== */
.price-plan-sidebars{
  border-right: 1px solid var(--border-border-2, #D5D4DF);
  background: var(--surface-layer-3, #F8F7FA);
  display: flex;
  width: 240px;
  align-items: flex-start;
  gap: 4px;
  align-self: stretch;
  flex-direction: column;
  padding: 24px 16px;
  box-sizing: border-box;
}

.step-item{ display:flex; align-items:flex-start; margin-bottom:25px; cursor:pointer; }
.icon-wrappers{ margin-left:-6px; position:relative; display:flex; flex-direction:column; align-items:center; margin-right:12px; }
.icon-wrappers svg:first-child{ width:24px; height:24px; flex-shrink:0; }
.step-text{ max-width:180px; }
.step-title{ color:var(--color-neutral-800); font-size:var(--font-size-lg); font-weight:600; line-height:var(--line-height-body-lg); display:block; margin-bottom:2px; }
.step-desc{ color:var(--color-neutral-800); font-size:var(--font-size-md); font-weight:400; line-height:var(--line-height-body-md); display:block; }
.step-item.active .icon-wrappers svg circle:first-child{ stroke:var(--color-primary-800); }
.step-item.active .icon-wrappers svg circle:last-child{ fill:var(--color-primary-800); stroke-width:3; }
.step-item.active .step-title{ color:var(--color-neutral-1700); }

/* ====== RIGHT COLUMN ====== */
.price-plan-section{
  flex:1 1 auto;
  background:transparent;
  border:none;
  padding-top:24px;                      /* match sidebar top padding */
  padding-left: var(--content-gutter);   /* ⬅️ ADD GUTTER FOR CONTENT */
  display:flex;
  flex-direction:column;
  min-width:0;
}

/* Header row */
.section-header{
  box-sizing:border-box;
  width:100%;
  height:56px;
  display:flex;
  align-items:center;
  background:var(--color-neutral-white);

  /* rely on sidebar's right border for the central divider */
  border-left:none;
  border-right:1px solid var(--af-border-1);
  border-top:1px solid var(--af-border-1);
  border-bottom:1px solid var(--af-border-1);

  padding:0;
  margin: -1px 0 0 calc(-1 * var(--content-gutter)); /* ⬅️ OFFSET HEADER ONLY */
}
.section-title{
  margin:0;
  padding:0 32px;
  color:#706C72;
  font-size:18px;
  line-height:24px;
  font-weight:400;
}

/* Form card */
.form-card{
  background:transparent;
  /*           T     R      B      L  */
  padding:16px 32px 120px 32px; /* the column gutter now provides the left spacing */
  margin:0;
  width:100%;
  border-left:none;                     /* keep single vertical divider from sidebar */
  border-right:1px solid var(--af-border-1);
  border-bottom:1px solid var(--af-border-1);
  border-top:none;
  box-sizing:border-box;
  flex:1 1 auto;
  overflow-y:auto;
}

.create-form{ margin-bottom:20px; }

.form-row {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
}

.form-row .create-form {
  flex: 1;
}

/* ============================================================
   ANTI-JUMP PATCH
   ============================================================ */
.create-price-plan .form-card .create-form :is(input, textarea, select){
  padding-left: var(--field-pl) !important;
  text-indent: 0 !important;
  background-origin: content-box;
  background-repeat: no-repeat;
  background-position: right 12px center !important;
  border-left-width: 1px !important;
  border-right-width: 1px !important;
  border-top-width: 1px !important;
  border-bottom-width: 1px !important;
  box-shadow: none !important;
}

.create-price-plan .form-card [role="combobox"],
.create-price-plan .form-card .select-trigger,
.create-price-plan .form-card .Select__control{
  padding-left: var(--field-pl) !important;
  text-indent: 0 !important;
  background-position: right 12px center !important;
  box-shadow: none !important;
}

.create-price-plan .form-card .create-form.error :is(input, textarea, select),
.create-price-plan .form-card .create-form .error :is(input, textarea, select),
.create-price-plan .form-card .create-form .invalid :is(input, textarea, select),
.create-price-plan .form-card :is(input, textarea, select)[aria-invalid="true"],
.create-price-plan .form-card [role="combobox"][aria-invalid="true"],
.create-price-plan .form-card .select-trigger.error,
.create-price-plan .form-card .Select__control--is-invalid{
  padding-left: var(--field-pl) !important;
  text-indent: 0 !important;
  background-image: none !important;
  background-position: right 12px center !important;
  border-width: 1px !important;
}

.create-price-plan .form-card .input-prefix,
.create-price-plan .form-card .field-icon--error,
.create-price-plan .form-card .error-icon{
  display: none !important;
}

.inline-page-error{
  color: var(--color-semantic-danger-700, #B42318);
  font-size: 12px;
  line-height: 16px;
  margin-bottom: 12px;
}

/* ====== STICKY FOOTER ====== */
.button-group{
  width:100%;
  position:sticky;
  bottom:0;
  display:flex;
  align-items:center;
  justify-content: space-between;
  background:var(--color-neutral-white);
  border-top:1px solid var(--color-neutral-200);
  padding:16px 32px;
  gap:16px;
}
.btn{
  padding:8px 20px;
  border-radius:var(--border-radius-sm);
  font-weight:500;
  cursor:pointer;
  font-size:14px;
  border:none;
  height:40px;
}
.back{
  display:flex;
  width:140px;
  justify-content:center;
  align-items:center;
  gap:8px;
  color:var(--color-primary-800);
  background-color:var(--color-primary-000);
}
.save-next{ border-radius:var(--border-radius-sm); }

/* ====== Responsive ====== */
.price-plan-section, .form-card{ min-width:0; }
@media (max-width: 992px){
  .align-under-back{
    margin-left: 0;
    margin-right: 0;
    padding-left: 16px;
    padding-right: 16px;
  }
  .price-plan-wrapper{ flex-direction:column; gap:12px; }
  .price-plan-sidebars{
    width:100%;
    border-right:none;
    border-bottom:1.5px solid var(--color-neutral-200);
    display:flex;
    justify-content:center;
  }

  /* stacked layout: remove the left gutter and restore a boxed card */
  .price-plan-section{
    padding-top: 0;
    padding-left: 0;                 /* no gutter on small screens */
  }
  .section-header{
    margin-top:0;
    margin-left:0;                   /* no offset needed */
    border-left:1px solid var(--af-border-1);
  }
  .form-card{
    border-left:1px solid var(--af-border-1);
  }
}
@media (max-width: 768px){
  .price-plan-sidebars{ padding:20px 12px; }
  .form-card{ padding:24px 8px 120px 8px; }
}
