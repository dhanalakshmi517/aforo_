/* === RATEPLAN-ONLY STYLES (.rate-np-*) === */


/* Global layout */
html, body, #root { height: 100%; margin: 0; padding: 0; overflow: visible; }
.create-product-page { min-height: 100vh; background: #f7f8fb; }

/* Viewport */
.rate-np-viewport {
  border-bottom: 1px solid var(--color-neutral-300);
  padding: var(--np-gap-top) var(--np-gap-right) 30px var(--np-gap-left);
  box-sizing: border-box;
  height: calc(100vh - 40px);
  width: 100%;
  max-width: 100%;
  display: flex;
  flex-direction: column;
  overflow-x: hidden;
}

/* Card */
.rate-np-card {
  margin-bottom: 40px;
  padding-bottom: 32px;
  background: var(--color-neutral-white);
  border: 1px solid var(--color-neutral-300);
  border-radius: var(--border-radius-lg);
  box-shadow: 0 18px 54px 0 rgba(0,0,0,.10), 0 2.254px 43.336px 0 rgba(0,0,0,.02);
  width: 100%;
  position: relative;
  display: flex;
  flex-direction: column;
  height: calc(100vh - 40px);
  overflow: hidden;
}

/* Grid */
.rate-np-grid {
  display: grid;
  grid-template-columns: 300px 1fr;
  flex: 1;
  min-height: 0;
}

/* Rail */
.rate-np-rail {
  overflow-y: auto;
  overflow-x: hidden;
  overscroll-behavior: contain;
  background: var(--color-neutral-100);
  align-self: stretch;
  padding: 16px;
  box-sizing: border-box;
  border-right: 1px solid var(--color-neutral-300);
  display: flex;
  flex-direction: column;
  height: 100vh;
  
  /* Hide default scrollbar */
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE and Edge */
}

/* Hide scrollbar for Chrome, Safari and Opera */
.rate-np-rail::-webkit-scrollbar {
  display: none;
}

/* Custom scrollbar for the steps */
.rate-np-steps {
  overflow-y: auto;
  overflow-x: hidden;
  padding-right: 8px;
  margin-right: -8px;
  scrollbar-width: thin;
  scrollbar-color: transparent transparent;
}

.rate-np-steps::-webkit-scrollbar {
  width: 6px;
}

.rate-np-steps::-webkit-scrollbar-track {
  background: transparent;
}

.rate-np-steps::-webkit-scrollbar-thumb {
  background-color: transparent;
  border-radius: 2px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='49' viewBox='0 0 4 49' fill='none'%3E%3Cpath d='M2 2V47' stroke='%23C3C2D0' stroke-width='4' stroke-linecap='round'/%3E%3C/svg%3E");
  background-repeat: repeat-y;
  background-position: center;
  background-size: 4px 49px;
}

.rate-np-steps::-webkit-scrollbar-thumb:hover,
.rate-np-steps::-webkit-scrollbar-thumb:active {
  background-color: transparent;
}

/* Steps container (first block) */
.rate-np-steps {
  display: flex;
  flex-direction: column;
  gap: 0;
  padding: 8px 8px 8px 0;
  background-color: #f8f9fb;
  position: relative;
}

/* Step */
.rate-np-step {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 12px 8px;
  background: transparent;
  border: 0;
  width: 100%;
  text-align: left;
  position: relative;
  min-height: 70px;
}

/* Bullet */
.rate-np-step__bullet {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 24px;
  flex: 0 0 24px;
  position: relative;
  z-index: 2;
}

/* Icon */
.rate-np-step__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  position: relative;
  z-index: 2;
  background: #f8f9fb;
}

/* Connector */
.rate-np-step__connector {
  position: absolute;
  top: 24px;
  left: 11px;
  z-index: 1;
  width: 2px;
  background-color: #C3C2D0;
  content: '';
  display: block;
}

/* Connector heights */
.rate-np-step:nth-child(1) .rate-np-step__connector { height: 88px; }
.rate-np-step:nth-child(2) .rate-np-step__connector { height: 98px; }
.rate-np-step:nth-child(3) .rate-np-step__connector { height: 98px; }
.rate-np-step:nth-child(4) .rate-np-step__connector { height: 98px; }



/* Vertical tweaks */
.rate-np-step:not(:first-child) .rate-np-step__bullet { margin-top: -10px; }
.rate-np-step:not(:first-child) .rate-np-step__text { margin-top: -10px; }

/* Step container (alt block) */
.rate-np-step {
  position: relative;
  padding: 0 0 12px 0;
  min-height: 100px;
  display: flex;
  align-items: flex-start;
}

/* Remove connector from last step */
.rate-np-step:last-child .rate-np-step__connector { display: none; }

/* Remove bottom padding from last step */
.rate-np-step:last-child { padding-bottom: 0; }

/* Text */
.rate-np-step__text {
  display: flex;
  flex-direction: column;
  gap: 2px;
  margin-left: 4px;
  padding-top: 2px;
}

.rate-np-step__connector svg { display: block; height: 100%; }

.rate-np-step__title {
  color: var(--color-neutral-1400);
  font-family: var(--font-family-primary);
  font-size: var(--font-size-lg);
  font-weight: 400;
  line-height: var(--line-height-body-lg);
  text-align: left;
  margin-bottom: 2px;
}

.rate-np-step__desc {
  color: var(--color-neutral-1400);
  font-family: var(--font-family-primary);
  font-size: var(--font-size-md);
  font-weight: 400;
  line-height: var(--line-height-body-md);
}

/* States */
.rate-np-step.completed .rate-np-step__connector { background-color: var(--color-primary-800); }

.rate-np-step.completed .rate-np-step__icon {
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none'%3E%3Cpath d='M9.50024 16.6662C9.89077 17.0567 10.5239 17.0567 10.9145 16.6662L18.0341 9.54661C18.4017 9.17902 18.4017 8.58304 18.0341 8.21546C17.6665 7.84787 17.0705 7.84787 16.7029 8.21546L10.9145 14.0039C10.5239 14.3944 9.89077 14.3944 9.50024 14.0039L7.27291 11.7766C6.90533 11.409 6.30935 11.409 5.94176 11.7766C5.57418 12.1442 5.57418 12.7402 5.94176 13.1077L9.50024 16.6662ZM12.0022 24.0001C10.3425 24.0001 8.78242 23.6851 7.32204 23.0552C5.86163 22.4253 4.59129 21.5705 3.51102 20.4907C2.43072 19.4109 1.57549 18.1411 0.945316 16.6813C0.315145 15.2216 6.02322e-05 13.6619 6.02322e-05 12.0022C6.02322e-05 10.3425 0.315009 8.78242 0.944905 7.32204C1.5748 5.86163 2.42965 4.5913 3.50944 3.51102C4.58925 2.43072 5.85903 1.57549 7.31878 0.945317C8.77851 0.315147 10.3382 6.02322e-05 11.9979 6.02322e-05C13.6577 6.02322e-05 15.2177 0.31501 16.6781 0.944906C18.1385 1.5748 19.4088 2.42965 20.4891 3.50944C21.5694 4.58925 22.4246 5.85903 23.0548 7.31879C23.685 8.77852 24.0001 10.3382 24.0001 11.9979C24.0001 13.6577 23.6851 15.2177 23.0552 16.6781C22.4253 18.1385 21.5705 19.4088 20.4907 20.4891C19.4109 21.5694 18.1411 22.4246 16.6813 23.0548C15.2216 23.685 13.6619 24.0001 12.0022 24.0001Z' fill='%23004B80'/%3E%3C/svg%3E") center/20px 20px no-repeat;
}
.rate-np-step.completed .rate-np-step__icon svg { visibility:hidden; }

.rate-np-step.active .rate-np-step__icon svg circle:nth-of-type(2) { fill:var(--color-primary-800); }
.rate-np-step.active .rate-np-step__connector { background-color: #C3C2D0; }
.rate-np-step.active .rate-np-step__icon svg circle:nth-of-type(1) { stroke: var(--color-primary-800); }

.rate-np-step.active .rate-np-step__title {
  color: var(--color-neutral-1700);
  font-family: var(--font-family-primary);
  font-size: var(--font-size-lg);
  font-weight: 500;
  line-height: var(--line-height-body-lg);
}

/* Main area */
.rate-np-main {
  border-radius: var(--border-radius-sm);
  position: relative;
  background: #fff;
  display: flex;
  flex-direction: column;
  height: calc(100% - 24px);
  min-height: 0;
  width: 100%;
  max-width: 100%;
  overflow-x: hidden;
  padding-bottom: var(--np-gap-bottom);
}

/* Inner */
.rate-np-main__inner {
  position: relative;
  z-index: 1;
  padding: 24px;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  flex: 1;
  min-height: 0;
  width: 100%;
  max-width: 100%;
  overflow-x: hidden;
}

.rate-np-body {
  display: flex;
  flex-direction: column;
  flex: 1;
  min-height: 0;
}

/* Form */
.rate-np-form {
  display: flex;
  flex-direction: column;
  height: 100%;
  min-height: 0;
  overflow-y: auto;
  overflow-x: hidden;
  padding-bottom: 15px;
  gap: 16px;
  flex: 1;
  width: 100%;
  max-width: 100%;
}

.rate-np-form-section {
  flex: 1;
  min-height: 0;
  overflow-y: auto;
  overflow-x: hidden;
  padding: 0 24px 24px;
  margin: 0 -24px;
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE and Edge */
}

.rate-np-form-section::-webkit-scrollbar {
  display: none;
}

/* Section header */
.rate-np-section-header {
  position: sticky;
  top: 0;
  z-index: 5;
  background: #fff;
  margin:4px -24px 18px -24px;
  padding:0 24px;
}
.rate-np-section-title {
  color: var(--color-neutral-800);
  font-family: var(--font-family-primary);
  font-size: var(--font-size-h6);
  font-weight: 400;
  line-height: var(--line-height-heading-h6);
  text-transform: uppercase;
}
.rate-np-section-header::after {
  content:"";
  position:absolute;
  left:0; right:0; bottom:-5px;
  height:1px;
  background:var(--color-neutral-300);
}

/* Footer */
.rate-np-form-footer {
  margin: 0 -24px;
  padding: 16px 24px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-top: 1px solid var(--color-neutral-300);
  margin-top: auto;
  margin-bottom: 34px;
}

.rate-np-btn-group { display: flex; gap: 12px; }
.rate-np-btn-group--back { margin-right: auto; }
rate-np-btn-group--next { margin-left: auto; }
.rate-np-form-footer > .rate-np-btn-group:last-child { margin-left: auto; }

/* Buttons */
.rate-np-btn {
  -webkit-tap-highlight-color: transparent;
  user-select: none;
  outline: none;
  height: 40px;
  padding: 8px 20px;
  font-family: var(--type-font-family-primary);
  font-size: var(--font-size-md);
  font-weight: 500;
  line-height: var(--line-height-body-md);
  border-radius: var(--border-radius-sm);
  border: none;
  cursor: pointer;
  transition: all 0.2s ease;
  width: 144px;
  text-align: center;
}
.rate-np-btn:active { transform: none !important; transition: none !important; }
.rate-np-btn:disabled { opacity: .5; cursor: not-allowed; }

.rate-np-btn--primary { background-color: var(--color-primary-700); color: #fff; }
.rate-np-btn--primary:hover:not(:disabled) { background-color: var(--color-primary-800); }
.rate-np-btn--primary:active:not(:disabled) { background-color: var(--color-primary-900); }
.rate-np-btn--primary:disabled { background-color: var(--color-neutral-300); color: var(--color-neutral-600); }

.rate-np-btn--ghost {
  background-color: var(--color-primary-000);
  border: 1px solid var(--color-neutral-400);
  color: var(--color-primary-800);
}
.rate-np-btn--ghost:hover:not(:disabled) { background-color: var(--color-neutral-100); border-color: var(--color-neutral-500); }
.rate-np-btn--ghost:active:not(:disabled) { background-color: var(--color-neutral-200); }
.rate-np-btn--ghost:disabled { background-color: transparent; border-color: var(--color-neutral-300); color: var(--color-neutral-400); }

/* Grid-2 utility and error class */
.rate-np-grid-2 {
  display: flex;
  flex-direction: column;
  gap: 16px;
}
.rate-np-error-message { color: #d32f2f; font-size: 14px; }

/* Responsive */
@media (max-width: 1200px){
  :root{ --np-gap-left:72px; --np-gap-right:72px; }
}
@media (max-width: 900px){
  :root{ --np-gap-left:48px; --np-gap-right:48px; }
}
@media (max-width: 640px){
  :root{
    --np-gap-top:24px; --np-gap-bottom:15px;
    --np-gap-left:16px; --np-gap-right:16px;
    --np-rail-w:100%;
  }
  .rate-np-grid { grid-template-columns:1fr; grid-template-rows:auto 1fr; }
  .rate-np-form { gap:12px; }
}

/* Tuneables */
:root{
  --np-step-icon: 24px;
  --np-steps-pl: 16px;
  --np-conn-w: 2px;
}

/* Secondary step styles block (rateplan only) */
.rate-np-steps {
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 18px;
  padding-left: var(--np-steps-pl);
  background-color: #f8f9fb;
  max-height: calc(100vh - 120px);
  overflow-y: auto;
  overscroll-behavior: contain;
}

.rate-np-steps::before,
.rate-np-step:not(:last-child)::after { background: none; }

.rate-np-step {
  position: relative;
  display: flex;
  align-items: flex-start;
  gap: 8px;
  padding: 10px 12px 10px 0;
  background-color: #f8f9fb;
  border: 1px solid transparent;
  cursor: pointer;
  transition: all .2s ease;
  z-index: 1;
}

.rate-np-step__icon {
  width: var(--np-step-icon);
  height: var(--np-step-icon);
  border-radius: 50%;
  flex-shrink: 0;
}
